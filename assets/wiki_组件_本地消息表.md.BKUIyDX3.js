import{_ as a,c as t,o as i,j as e,a as n}from"./chunks/framework.BgId8OS5.js";const m=JSON.parse('{"title":"本地消息表","description":"","frontmatter":{"title":"本地消息表","slug":"本地消息表","sidebar_position":0},"headers":[],"relativePath":"wiki/组件/本地消息表.md","filePath":"wiki/组件/本地消息表.md"}'),r={name:"wiki/组件/本地消息表.md"};function o(s,l,d,c,p,_){return i(),t("div",null,l[0]||(l[0]=[e("h1",{id:"本地消息表",tabindex:"-1"},[n("本地消息表 "),e("a",{class:"header-anchor",href:"#本地消息表","aria-label":'Permalink to "本地消息表"'},"​")],-1),e("p",null,"设计上和消息中心的思想是一致的",-1),e("p",null,"设计思想",-1),e("ol",null,[e("li",null,"业务操作与消息记录在同一个本地事务中"),e("li",null,"必须业务操作事务真正提交后才准确触发真正的消息发送，同时记录发送的状态"),e("li",null,"要有定时任务进行补偿手法，对于一定时间内没有发送成功的重新发送，根据重试次数触发，如果仍然发送失败，必须告警和人工介入"),e("li",null,"对于mq，下游接收到消息必须保证消费的幂等，幂等有两种情况，一种是返回相同结果，第二种就是抛出异常")],-1),e("p",null,"可以保障分布式事务最终一致性",-1)]))}const f=a(r,[["render",o]]);export{m as __pageData,f as default};
